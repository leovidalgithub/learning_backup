"use strict";angular.module("myAppCV",["pascalprecht.translate","miscellaneous"]).config(["$translateProvider",function(e){e.registerAvailableLanguageKeys(["es","en","fr"],{"en*":"en","uk*":"en","us*":"en","es*":"es","fr*":"fr",en:"en",uk:"en",us:"en",fr:"fr"}).useStaticFilesLoader({prefix:"locale/lang_",suffix:".json"}).preferredLanguage("en").fallbackLanguage("en").useSanitizeValueStrategy(null).determinePreferredLanguage(function(){var t=(window.navigator.browserLanguage||window.navigator.userLanguage||window.navigator.systemLanguage||window.navigator.language||window.navigator.languages[0]).toLowerCase();t.indexOf("es")>-1&&e.use("es"),t.indexOf("sp")>-1&&e.use("es"),t.indexOf("en")>-1&&e.use("en"),t.indexOf("us")>-1&&e.use("en"),t.indexOf("uk")>-1&&e.use("en"),t.indexOf("fr")>-1&&e.use("fr")})}]).run([function(){}]).controller("mainController",["$rootScope","$translate","$timeout","$http",function(e,t,n,a){var o=this;o.data={},o.data.name="Pedro",o.data.email="pdro@hotmail.com",o.data.subject=new Date,o.data.msg=" Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",n(function(){var e=t.use();o.myIdiom=e||"en"}),o.submit=function(){o.data.sending=!0;var t="",n=location.protocol+"//"+location.hostname+":8080/";a.post(n+"contact/",o.data).then(function(e){e.data.success?(t="ok",o.data={}):t="error"}).catch(function(e){return t="error"}).finally(function(){e.$broadcast("showThisAlertPlease",{type:t}),o.data.sending=!1})},o.idiomChange=function(e){o.myIdiom=e,t.use(e)}}]),function(){function e(e,t){function n(){if(s.length){i=!0;var e=s.shift();a(e.type,e.msg)}else i=!1}function a(n,a){e.type=n,e.alertMessage=a,o(5,.95),t(function(){o(-390,0)},"ok"==e.type?3900:6500)}function o(e,a){$("#alertMessage").animate({opacity:a,right:e+"px"},850,function(){e<0&&t(function(){n()})})}var i=!1,s=[];e.$on("showThisAlertPlease",function(e,t){s.some(function(e){return e.type==t.type})||s.push({type:t.type,msg:t.msg}),0==i&&n()})}e.$inject=["$scope","$timeout"],angular.module("miscellaneous",[]).directive("alertMessage",function(){return{restrict:"E",scope:!0,transclude:!1,templateUrl:"build/templates/alertMsg/alertmsg.tpl.html",controller:e,link:function(e,t,n){}}}).controller("alertMessageController",e),e.$invoke=["$scope","$timeout"]}(),jQuery(document).ready(function(e){setTimeout(function(){e("h1.responsive-headline").fitText(1,{minFontSize:"40px",maxFontSize:"90px"}),e(document.body).css("opacity","1")},800),e("#idioms .selected").mouseenter(function(n){e("#idioms .choose").clearQueue().show().animate({opacity:"1",left:"5px","z-index":"15"},"slow",t)});var t=function(){e("#idioms .choose").bind("mouseleave click",function(t){e("#idioms .choose").animate({opacity:"0",left:"-70px","z-index":"5"},"slow",function(){e("#idioms .choose").hide().unbind()})})};e(".jsInit").parallax({imageSrc:"./images/collage-4.png",speed:.4,position:"center center",zIndex:"0",androidFix:!1,iosFix:!1}),e(".smoothscroll").on("click",function(t){t.preventDefault();var n=this.hash,a=e(n);e("html, body").stop().animate({scrollTop:a.offset().top},800,"swing",function(){window.location.hash=n})});var n=e("section"),a=e("#nav-wrap a");n.waypoint({handler:function(t){var n=e(this.element);"up"===t&&(n=n.prev());var o=e('#nav-wrap a[href="#'+n.attr("id")+'"]');a.parent().removeClass("current"),o.parent().addClass("current")},offset:"18%"});new Waypoint({element:document.getElementById("mySkills"),handler:function(){var t=["photoshop","illustrator","wordpress","css","html5","jquery"];e("#resume ul.skills li span").each(function(n){e(this).addClass(t[n])}),this.destroy()},offset:"bottom-in-view"}),new Waypoint({element:document.getElementById("contact"),handler:function(){setTimeout(function(){e("#contact .touchIcon").addClass("spin")},1e3),this.destroy()},offset:"15%"});var o=e(window).height();e("header").css({height:o}),parseInt(e("#about").css("height"),10)<o&&e("#about").css({height:o}),parseInt(e("#portfolio").css("height"),10)<o&&e("#portfolio").css({height:o}),parseInt(e("#contact").css("height"),10)<o&&e("#contact").css({height:o}),e(window).on("resize",function(){e("header").css({height:e(window).height()}),e("body").css({width:e(window).width()})}),e(window).on("scroll",function(){var t=e("header").height(),n=e(window).scrollTop(),a=e("#nav-wrap");n>.2*t&&n<t&&e(window).outerWidth()>768?a.fadeOut("fast"):n<.2*t?a.fadeIn(1e3).removeClass("opaque"):a.fadeIn(1e3).addClass("opaque")}),e(".flexslider").flexslider({initDelay:0,animation:"fade",slideshowSpeed:6e3,animationSpeed:700,slideshow:!0,randomize:!1,pauseOnAction:!0,pauseOnHover:!1}),e("form#contactForm button.submit").click(function(){e("#image-loader").fadeIn();var t="contactName="+e("#contactForm #contactName").val()+"&contactEmail="+e("#contactForm #contactEmail").val()+"&contactSubject="+e("#contactForm #contactSubject").val()+"&contactMessage="+e("#contactForm #contactMessage").val();return e.ajax({type:"POST",url:"inc/sendEmail.php",data:t,success:function(t){"OK"==t?(e("#image-loader").fadeOut(),e("#message-warning").hide(),e("#contactForm").fadeOut(),e("#message-success").fadeIn()):(e("#image-loader").fadeOut(),e("#message-warning").html(t),e("#message-warning").fadeIn())}}),!1})});